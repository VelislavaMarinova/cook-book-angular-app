<section>
    <div class="row register">
        <div class="img register col-4 col-sm-4  col-md-4 col-lg-4 col-xl-4 col-xxl-4">
            <img
                src="https://images.pexels.com/photos/14639227/pexels-photo-14639227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
                class="img-fluid"
                alt="Sample image"
            >
        </div>
        <div class="form col-8 col-sm-8 col-md-8 col-lg-6 col-xl-4 offset-xl-1 register">
            <div
                *ngIf="isLoading"
                class="loader"
            >
                <app-loader />
            </div>
            <div
                class="alert alert-danger"
                *ngIf="error"
            >
                {{error}}
            </div>
            <form
                [formGroup]="registerForm"
                (ngSubmit)="onSubmit()"
                *ngIf="!isLoading"
                class="register-form"
            >
                <div class="form-outline mb-4">
                    <label
                        class="form-label"
                        for="username"
                    ><i class="fas fa-user"></i> Username</label>
                    <input
                        type="text"
                        id="username"
                        class="form-control form-control-lg"
                        placeholder="Enter an username"
                        formControlName="username"
                    />
                    <small
                        class="input-help form-text"
                        *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
                    >
                        <ng-container *ngIf="registerForm.get('username')?.hasError('required')">
                            Username is required!
                        </ng-container>
                        <ng-container *ngIf="registerForm.get('username')?.hasError('minlength')">
                            Username must be at least 3 characters long.
                        </ng-container>
                    </small>

                    <!-- <span class="help-block">Username should be at least 3 charachters long!</span> -->
                </div>
                <!-- Email input -->
                <div class="form-outline mb-4">
                    <label
                        class="form-label"
                        for="email"
                    ><span><i class="fas fa-envelope"></i></span> Email address</label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control form-control-lg"
                        placeholder="Enter a valid email address"
                        formControlName="email"
                    />
                    <small
                        class="input-help form-text "
                        *ngIf="!registerForm.get('email')?.valid && registerForm.get('email')?.touched"
                    ><ng-container *ngIf="registerForm.get('email')?.hasError('required')">
                            Email is required!
                        </ng-container>
                        <ng-container *ngIf="registerForm.get('email')?.hasError('invalidEmail')">
                            Invalid email!
                        </ng-container>
                    </small>
                </div>

                <!-- Password input -->
                <label
                    class="form-label"
                    for="password"
                ><span><i class="fas fa-lock"></i></span>
                    Password
                </label>
                <div class="form-outline mb-3">
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="form-control form-control-lg"
                        placeholder="Enter password"
                        formControlName="password"
                    />
                    <small
                        class="input-help form-text"
                        *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                    >
                        <ng-container *ngIf="registerForm.get('password')?.hasError('required')">
                            Password is required!
                        </ng-container>
                        <ng-container *ngIf="registerForm.get('password')?.hasError('minlength')">
                            Password must be at least 6 characters long.
                        </ng-container>
                    </small>
                </div>
                <label
                    class="form-label"
                    for="rePass"
                ><span><i class="fas fa-unlock"></i></span> Repeat password</label>
                <div class="form-outline mb-3">
                    <input
                        type="password"
                        id="rePass"
                        name="rePass"
                        class="form-control form-control-lg"
                        placeholder="Repaeat password"
                        formControlName="rePass"
                    />
                    <small
                        class="input-help form-text"
                        *ngIf="registerForm.get('rePass')?.invalid && registerForm.get('rePass')?.touched"
                    >
                        <ng-container *ngIf="registerForm.get('rePass')?.hasError('required')">
                            Repeat password is required!
                        </ng-container>
                        <ng-container *ngIf="registerForm.get('rePass')?.hasError('minlength')">
                            Repeat password must be at least 6 characters long.
                        </ng-container>
                    </small>
                    <small
                        class="input-help form-text"
                        *ngIf="registerForm.get('rePass')?.hasError('passwordsNotMatch') && registerForm.get('rePass')?.touched"
                    >
                        Passwords do not match.
                    </small>
                </div>
                <div class="text-center text-lg-start mt-4 pt-2">
                    <button
                        type="submit"
                        class="btn btn-primary btn-lg"
                        style="padding-left: 2.5rem; padding-right: 2.5rem;"
                        [disabled]="!registerForm.valid"
                    >Register</button>
                    <p class="small fw-bold mt-2 pt-1 mb-0">If you have an account? <a
                            routerLink="/login"
                            class="link"
                        >Login</a></p>
                </div>
            </form>
        </div>
    </div>
</section>